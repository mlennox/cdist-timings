import seaborn as sns
import matplotlib.pyplot as plt

from pandas import DataFrame
from numpy import reshape

sns.set(style="darkgrid")

data = [
    500,
    100,
    0.05951278214342892,
    0.02336036693304777,
    500,
    100,
    0.05636158189736307,
    0.022437772946432233,
    500,
    100,
    0.05649765185080469,
    0.022514539072290063,
    500,
    100,
    0.055592908058315516,
    0.022691858001053333,
    500,
    100,
    0.05579246301203966,
    0.02273782412521541,
    500,
    100,
    0.06038627796806395,
    0.02151418593712151,
    500,
    100,
    0.0571394229773432,
    0.022697217063978314,
    500,
    100,
    0.06557899503968656,
    0.02225686190649867,
    500,
    100,
    0.07153277494944632,
    0.021976473042741418,
    500,
    100,
    0.055803111055865884,
    0.02188249514438212,
    500,
    100,
    0.05489025288261473,
    0.02177563589066267,
    500,
    100,
    0.05576011608354747,
    0.021765975980088115,
    500,
    100,
    0.05510057182982564,
    0.02226120699197054,
    500,
    100,
    0.054743430111557245,
    0.022246774984523654,
    500,
    100,
    0.054596405941993,
    0.022219505161046982,
    500,
    125,
    0.0695698531344533,
    0.02966631716117263,
    500,
    125,
    0.06917443498969078,
    0.029695999110117555,
    500,
    125,
    0.06964382389560342,
    0.02956094196997583,
    500,
    125,
    0.07010374707169831,
    0.029458051081746817,
    500,
    125,
    0.0718220449052751,
    0.02939450414851308,
    500,
    125,
    0.07076002191752195,
    0.028692911844700575,
    500,
    125,
    0.07040828699246049,
    0.029317103093490005,
    500,
    125,
    0.06835966394282877,
    0.029373551020398736,
    500,
    125,
    0.06824960000813007,
    0.02914710296317935,
    500,
    125,
    0.06891083298251033,
    0.028801178792491555,
    500,
    125,
    0.07025881507433951,
    0.029731492046266794,
    500,
    125,
    0.0680894700344652,
    0.031686247792094946,
    500,
    125,
    0.06893820106051862,
    0.029404365923255682,
    500,
    125,
    0.06937483395449817,
    0.02921102801337838,
    500,
    125,
    0.06922532198950648,
    0.02884439192712307,
    500,
    150,
    0.08595068589784205,
    0.03669420909136534,
    500,
    150,
    0.08511594496667385,
    0.03691525408066809,
    500,
    150,
    0.08373162103816867,
    0.03688816609792411,
    500,
    150,
    0.08454179693944752,
    0.03692971379496157,
    500,
    150,
    0.08495680196210742,
    0.03615321405231953,
    500,
    150,
    0.08564336504787207,
    0.03791876300238073,
    500,
    150,
    0.08554877596907318,
    0.03712639887817204,
    500,
    150,
    0.08507804782129824,
    0.035969429882243276,
    500,
    150,
    0.08507384918630123,
    0.0370617751032114,
    500,
    150,
    0.08411789988167584,
    0.03636818705126643,
    500,
    150,
    0.08535723411478102,
    0.037103649927303195,
    500,
    150,
    0.08385632908903062,
    0.03687983192503452,
    500,
    150,
    0.08138240012340248,
    0.03749586618505418,
    500,
    150,
    0.0826242221519351,
    0.03589679999276996,
    500,
    150,
    0.0829492649063468,
    0.036572791868820786,
    500,
    175,
    0.09895480005070567,
    0.04364038887433708,
    500,
    175,
    0.09732244699262083,
    0.04392788093537092,
    500,
    175,
    0.09557750006206334,
    0.04349566716700792,
    500,
    175,
    0.09643705515190959,
    0.042515038046985865,
    500,
    175,
    0.09713358082808554,
    0.041216179030016065,
    500,
    175,
    0.09974731900729239,
    0.04268435598351061,
    500,
    175,
    0.09720256691798568,
    0.043934234883636236,
    500,
    175,
    0.09830102091655135,
    0.04289857600815594,
    500,
    175,
    0.09773062192834914,
    0.04335086583159864,
    500,
    175,
    0.09713525790721178,
    0.04352097702212632,
    500,
    175,
    0.09889222192578018,
    0.04411458084359765,
    500,
    175,
    0.09963935404084623,
    0.0440317268949002,
    500,
    175,
    0.09878329606726766,
    0.04375050985254347,
    500,
    175,
    0.10016745119355619,
    0.04345590714365244,
    500,
    175,
    0.09874584898352623,
    0.04401183291338384,
    750,
    100,
    0.11843228107318282,
    0.050426420057192445,
    750,
    100,
    0.11637589405290782,
    0.04934908007271588,
    750,
    100,
    0.1153445818927139,
    0.04911086615175009,
    750,
    100,
    0.11495590698905289,
    0.048309123842045665,
    750,
    100,
    0.11569592705927789,
    0.04929170315153897,
    750,
    100,
    0.11919754580594599,
    0.04847802687436342,
    750,
    100,
    0.11510074185207486,
    0.049885428976267576,
    750,
    100,
    0.11566992197185755,
    0.0487807160243392,
    750,
    100,
    0.11265280307270586,
    0.049270668998360634,
    750,
    100,
    0.11345230904407799,
    0.048725252971053123,
    750,
    100,
    0.11639268486760557,
    0.04863884812220931,
    750,
    100,
    0.1163559160195291,
    0.049709711922332644,
    750,
    100,
    0.1147474548779428,
    0.049850160954520106,
    750,
    100,
    0.11360722687095404,
    0.04942514607682824,
    750,
    100,
    0.11576119693927467,
    0.05035865004174411,
    750,
    125,
    0.15010774391703308,
    0.06549151800572872,
    750,
    125,
    0.15033371793106198,
    0.06532153091393411,
    750,
    125,
    0.15271168109029531,
    0.06459262687712908,
    750,
    125,
    0.15214064810425043,
    0.06271596485748887,
    750,
    125,
    0.14913639798760414,
    0.06500018900260329,
    750,
    125,
    0.1499915779568255,
    0.06556813814677298,
    750,
    125,
    0.14993722084909678,
    0.06541004008613527,
    750,
    125,
    0.146629132097587,
    0.06426616595126688,
    750,
    125,
    0.14585459302179515,
    0.06376251997426152,
    750,
    125,
    0.1469977549277246,
    0.06494111102074385,
    750,
    125,
    0.14831623481586576,
    0.06689663790166378,
    750,
    125,
    0.14905568701215088,
    0.0663378550671041,
    750,
    125,
    0.1465303001459688,
    0.06550920917652547,
    750,
    125,
    0.14578758599236608,
    0.06573170912452042,
    750,
    125,
    0.14893597783520818,
    0.06618881714530289,
    750,
    150,
    0.18572324002161622,
    0.08138256496749818,
    750,
    150,
    0.18227669689804316,
    0.08133109519258142,
    750,
    150,
    0.18297096900641918,
    0.08352469187229872,
    750,
    150,
    0.1878336970694363,
    0.0802860299590975,
    750,
    150,
    0.200359774986282,
    0.07977916579693556,
    750,
    150,
    0.1812704219482839,
    0.08200985891744494,
    750,
    150,
    0.18075092695653439,
    0.07959049893543124,
    750,
    150,
    0.18073418992571533,
    0.08071454102173448,
    750,
    150,
    0.17938261898234487,
    0.08116141497157514,
    750,
    150,
    0.18351619690656662,
    0.08112921100109816,
    750,
    150,
    0.1827185950241983,
    0.08294767304323614,
    750,
    150,
    0.1836280890274793,
    0.08049738709814847,
    750,
    150,
    0.18357321806252003,
    0.07862232904881239,
    750,
    150,
    0.18203271087259054,
    0.08181549003347754,
    750,
    150,
    0.1806243199389428,
    0.08082299190573394,
    750,
    175,
    0.2164501599036157,
    0.0975359061267227,
    750,
    175,
    0.21103852009400725,
    0.09974697604775429,
    750,
    175,
    0.21462829899974167,
    0.09651311300694942,
    750,
    175,
    0.212225791066885,
    0.09503819490782917,
    750,
    175,
    0.21138723217882216,
    0.09421893116086721,
    750,
    175,
    0.21663504582829773,
    0.0981967649422586,
    750,
    175,
    0.21317035891115665,
    0.09530392079614103,
    750,
    175,
    0.21632129605859518,
    0.0961650931276381,
    750,
    175,
    0.2159415481146425,
    0.09718051902018487,
    750,
    175,
    0.21256744489073753,
    0.09635332901962101,
    750,
    175,
    0.2163588700350374,
    0.09934304491616786,
    750,
    175,
    0.20954898209311068,
    0.09583891183137894,
    750,
    175,
    0.20983435702510178,
    0.0960954639595002,
    750,
    175,
    0.21205110498704016,
    0.09501809696666896,
    750,
    175,
    0.20904215890914202,
    0.09684554091654718,
    1000,
    100,
    0.20646053086966276,
    0.09267055289819837,
    1000,
    100,
    0.2034121179021895,
    0.08732671500183642,
    1000,
    100,
    0.2024338359478861,
    0.08763455110602081,
    1000,
    100,
    0.20169221702963114,
    0.08810351090505719,
    1000,
    100,
    0.2004884199704975,
    0.08832775801420212,
    1000,
    100,
    0.2019449290819466,
    0.09142735810019076,
    1000,
    100,
    0.1981012299656868,
    0.09037893009372056,
    1000,
    100,
    0.19873227598145604,
    0.08703759592026472,
    1000,
    100,
    0.20215959614142776,
    0.08649118803441525,
    1000,
    100,
    0.19758902303874493,
    0.08667293190956116,
    1000,
    100,
    0.20446858904324472,
    0.08873934810981154,
    1000,
    100,
    0.2048567950259894,
    0.08781335293315351,
    1000,
    100,
    0.20639287400990725,
    0.08565529086627066,
    1000,
    100,
    0.20486217993311584,
    0.0877778900321573,
    1000,
    100,
    0.20092009915970266,
    0.08793408400379121,
    1000,
    125,
    0.2655892400071025,
    0.11823945702053607,
    1000,
    125,
    0.25600507389754057,
    0.11460061115212739,
    1000,
    125,
    0.25510105513967574,
    0.11659995815716684,
    1000,
    125,
    0.25663086608983576,
    0.1196410411503166,
    1000,
    125,
    0.25615361286327243,
    0.11699164984747767,
    1000,
    125,
    0.2617197048384696,
    0.11733016395010054,
    1000,
    125,
    0.2627214181702584,
    0.1150374710559845,
    1000,
    125,
    0.2565643209964037,
    0.11530789290554821,
    1000,
    125,
    0.2546317100059241,
    0.11452505504712462,
    1000,
    125,
    0.25667218398302794,
    0.11634072684682906,
    1000,
    125,
    0.2606477600056678,
    0.12015896919183433,
    1000,
    125,
    0.2569674779661,
    0.12464739405550063,
    1000,
    125,
    0.2556472800206393,
    0.1270807650871575,
    1000,
    125,
    0.2617226429283619,
    0.11727223498746753,
    1000,
    125,
    0.26001559803262353,
    0.11682485486380756,
    1000,
    150,
    0.31906831497326493,
    0.14766211691312492,
    1000,
    150,
    0.3295642889570445,
    0.14554882911033928,
    1000,
    150,
    0.3131990791298449,
    0.14754448109306395,
    1000,
    150,
    0.31264255405403674,
    0.146220674039796,
    1000,
    150,
    0.3147000567987561,
    0.1472297750879079,
    1000,
    150,
    0.3281224879901856,
    0.16135637904517353,
    1000,
    150,
    0.3421304861549288,
    0.17187690315768123,
    1000,
    150,
    0.3565014908090234,
    0.15748900501057506,
    1000,
    150,
    0.33180068200454116,
    0.16208262089639902,
    1000,
    150,
    0.3370286510325968,
    0.144172117812559,
    1000,
    150,
    0.31945184990763664,
    0.15210185502655804,
    1000,
    150,
    0.32159121497534215,
    0.14696863922290504,
    1000,
    150,
    0.3265681299380958,
    0.14395319810137153,
    1000,
    150,
    0.3130418579094112,
    0.14282868499867618,
    1000,
    150,
    0.3131651049479842,
    0.14547479595057666,
    1000,
    175,
    0.3714660650584847,
    0.17334922892041504,
    1000,
    175,
    0.3705432009883225,
    0.17226289305835962,
    1000,
    175,
    0.37600828404538333,
    0.170673520071432,
    1000,
    175,
    0.37746159406378865,
    0.1799473490100354,
    1000,
    175,
    0.371498242020607,
    0.16907653911039233,
    1000,
    175,
    0.37248028884641826,
    0.1738681101705879,
    1000,
    175,
    0.37095552613027394,
    0.16929644998162985,
    1000,
    175,
    0.370236705057323,
    0.17304333904758096,
    1000,
    175,
    0.37535887700505555,
    0.17249260796234012,
    1000,
    175,
    0.3799364669248462,
    0.18425571196712554,
    1000,
    175,
    0.370820514857769,
    0.17731667612679303,
    1000,
    175,
    0.3716090898960829,
    0.1757681609597057,
    1000,
    175,
    0.3708554529584944,
    0.17181643983349204,
    1000,
    175,
    0.37529119313694537,
    0.16985842701978981,
    1000,
    175,
    0.3782852250151336,
    0.17253898386843503,
    1250,
    100,
    0.3173230281099677,
    0.1458643910009414,
    1250,
    100,
    0.3013625747989863,
    0.14011891605332494,
    1250,
    100,
    0.30236933403648436,
    0.13895645993761718,
    1250,
    100,
    0.3053337000310421,
    0.1387451528571546,
    1250,
    100,
    0.304015088127926,
    0.1410792600363493,
    1250,
    100,
    0.3088364580180496,
    0.13752978201955557,
    1250,
    100,
    0.303312623873353,
    0.13486365787684917,
    1250,
    100,
    0.3090773809235543,
    0.13746796501800418,
    1250,
    100,
    0.3088439139537513,
    0.13699015299789608,
    1250,
    100,
    0.30362841207534075,
    0.1357169549446553,
    1250,
    100,
    0.30840933602303267,
    0.1391004230827093,
    1250,
    100,
    0.3079572420101613,
    0.13584811915643513,
    1250,
    100,
    0.31097330315969884,
    0.13672270602546632,
    1250,
    100,
    0.3030076581053436,
    0.13623153208754957,
    1250,
    100,
    0.30139535292983055,
    0.13552429201081395,
    1250,
    125,
    0.39599216799251735,
    0.18349581700749695,
    1250,
    125,
    0.40186186507344246,
    0.1803429420106113,
    1250,
    125,
    0.40061976900324225,
    0.18469894910231233,
    1250,
    125,
    0.39990320801734924,
    0.18119638413190842,
    1250,
    125,
    0.39468871685676277,
    0.178010931937024,
    1250,
    125,
    0.40237498795613647,
    0.18158925184980035,
    1250,
    125,
    0.3950323760509491,
    0.18034668499603868,
    1250,
    125,
    0.39720774395391345,
    0.18020905111916363,
    1250,
    125,
    0.4054851320106536,
    0.17905864212661982,
    1250,
    125,
    0.39966549910604954,
    0.18222743994556367,
    1250,
    125,
    0.39821266080252826,
    0.18195677106268704,
    1250,
    125,
    0.39330908795818686,
    0.18003051890991628,
    1250,
    125,
    0.39486036682501435,
    0.18097885698080063,
    1250,
    125,
    0.3983608428388834,
    0.19050915399566293,
    1250,
    125,
    0.4212420678231865,
    0.1809535208158195,
    1250,
    150,
    0.4833865431137383,
    0.23148765601217747,
    1250,
    150,
    0.4808808150701225,
    0.22473585698753595,
    1250,
    150,
    0.48940965719521046,
    0.22453325614333153,
    1250,
    150,
    0.4962734058499336,
    0.22222581901587546,
    1250,
    150,
    0.48979610204696655,
    0.22580973501317203,
    1250,
    150,
    0.4850779031403363,
    0.22715840488672256,
    1250,
    150,
    0.4920297448989004,
    0.2242140080779791,
    1250,
    150,
    0.49434249894693494,
    0.2230882898438722,
    1250,
    150,
    0.4830168450716883,
    0.22550053196027875,
    1250,
    150,
    0.4826645329594612,
    0.22573625016957521,
    1250,
    150,
    0.4963345278520137,
    0.22567356005311012,
    1250,
    150,
    0.49041406717151403,
    0.226108344970271,
    1250,
    150,
    0.4816069391090423,
    0.22925403993576765,
    1250,
    150,
    0.48572684405371547,
    0.22958053508773446,
    1250,
    150,
    0.4819327788427472,
    0.2292245940770954,
    1250,
    175,
    0.5766553638968617,
    0.3004905378911644,
    1250,
    175,
    0.5688221419695765,
    0.27865661797113717,
    1250,
    175,
    0.5695416738744825,
    0.272752377204597,
    1250,
    175,
    0.5757536268793046,
    0.27384695690125227,
    1250,
    175,
    0.5839279121719301,
    0.2686628350056708,
    1250,
    175,
    0.5779997240751982,
    0.2840956540312618,
    1250,
    175,
    0.5858536760788411,
    0.27889768593013287,
    1250,
    175,
    0.5943997430149466,
    0.2770784189924598,
    1250,
    175,
    0.5800380068831146,
    0.279253234853968,
    1250,
    175,
    0.5775552720297128,
    0.2825997699983418,
    1250,
    175,
    0.5964960819110274,
    0.27902570297010243,
    1250,
    175,
    0.5771099338307977,
    0.27333992603234947,
    1250,
    175,
    0.5797729468904436,
    0.2717730689328164,
    1250,
    175,
    0.5759361260570586,
    0.2724254080094397,
    1250,
    175,
    0.5720128379762173,
    0.2754148331005126,
]


# NOTE need melt to make multiple data points on same plot
table = reshape(data, (-1, 4))
print(table.shape)
df = DataFrame(data=table, columns=["dimension", "vector", "loop", "vectorised"])
df["total_dimension"] = df.dimension * df.vector
melted = df.melt(
    id_vars=["total_dimension"],
    value_vars=["loop", "vectorised"],
    var_name="durations_label",
    value_name="durations",
)

sns.relplot(x="total_dimension", y="durations", hue="durations_label", data=melted)
plt.savefig("./test.png")
